#!/bin/bash

# Hook de Git que se ejecuta despu√©s de cada commit
# Verifica si el mensaje de commit contiene tags de versionado

echo "üîç Verificando tags de versionado en el commit..."

# Obtener el mensaje del √∫ltimo commit
COMMIT_MSG=$(git log -1 --pretty=%B)

# Verificar si contiene tags de versionado
if [[ $COMMIT_MSG == *"[major]"* ]] || [[ $COMMIT_MSG == *"[minor]"* ]] || [[ $COMMIT_MSG == *"[patch]"* ]]; then
    echo "‚úÖ Tags de versionado detectados. Ejecutando versionado autom√°tico..."
    node scripts/auto-version.js
else
    echo "‚ÑπÔ∏è  No se detectaron tags de versionado en el commit."
    echo "üí° Usa [patch], [minor] o [major] en tu mensaje de commit para versionado autom√°tico."
fi 